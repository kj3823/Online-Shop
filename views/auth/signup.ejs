<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="/css/forms.css">
<link rel="stylesheet" href="/css/auth.css">
</head>

<body>
    <%- include('../includes/navigation.ejs') %>
    <main>
        <% if(errorMessage){ %>
        <div class="user-message user-message--error"><%=errorMessage%></div>
        <% } %>
        <form class="login-form" action="/signup" method="POST" novalidate>
            <input type="hidden" value="<%= csrfToken %>" name="_csrf">
            <!--has to be _csrf -->
            <div class="form-control">
                <label for="email">Email</label>
                <input type="email" class="<%=validationErrors.find(e => e.param == 'email') ? 'invalid' : '' %>"
                    name="email" id="email" value="<%=oldInput.email %>">
                <!--If an error occurs it will find that error and return it, if found the CSS class will be set as
                    invalid else '' will be set. The field with the error is stored in the param field of the array
                    -->
            </div>
            <div class="form-control">
                <label for="Password">Password</label>
                <input type="password" class="<%=validationErrors.find(e => e.param == 'password') ? 'invalid' : '' %>"
                    name="password" id="password" step="0.01" value="<%=oldInput.password %>">
            </div>
            <div class="form-control">
                <label>Confirm Password</label>
                <input type="password" class="<%=validationErrors.find(e => e.param == 'confirm') ? 'invalid' : '' %>"
                    name="confirm" id="password" step="0.01" value="<%=oldInput.confirmPassword %>">
            </div>
            <button class="btn" type="submit">Signup</button>
        </form>
        </form>
    </main>
    <%- include('../includes/end.ejs') %>